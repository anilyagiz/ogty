/* Mobile-First Responsive Enhancements */

/* Tab transitions - Smooth mobile experience */
.tab-content {
    animation: slideInUp 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    transform-origin: center;
}

@keyframes slideInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Footer responsive */
.footer-content {
    grid-template-columns: 1fr;
    gap: var(--spacing-md);
}

.footer-section {
    text-align: center;
}

/* Mobile: smaller footer height */
@media (max-width: 639px) {
    .app-content {
        padding-bottom: calc(var(--bottom-nav-height) + 320px) !important;
    }
}

@media (min-width: 640px) {
    .footer-content {
        grid-template-columns: 1fr 1fr;
        gap: var(--spacing-lg);
    }
    
    .footer-section {
        text-align: left;
    }
    
    /* Tablet: medium footer height */
    .app-content {
        padding-bottom: calc(var(--bottom-nav-height) + 280px) !important;
    }
}

@media (min-width: 1024px) {
    /* Desktop: more compact footer */
    .app-content {
        padding-bottom: calc(var(--bottom-nav-height) + 260px) !important;
    }
}

/* Small devices (360px - 640px) - Primary target */
@media (min-width: 360px) {
    body {
        font-size: 14px;
    }
    
    .app-title {
        font-size: 1.125rem;
    }
    
    .stat-value {
        font-size: 1.5rem;
    }
}

/* Medium-small devices (480px+) */
@media (min-width: 480px) {
    .stats-grid {
        gap: var(--spacing-md);
    }
    
    .stat-card {
        padding: var(--spacing-lg);
    }
    
    .vehicle-card,
    .threat-card,
    .maintenance-card {
        padding: var(--spacing-lg);
    }
}

/* Tablets and larger phones (640px+) */
@media (min-width: 640px) {
    .app-content {
        padding: var(--spacing-lg);
    }
    
    .stats-grid {
        grid-template-columns: repeat(4, 1fr);
    }
    
    .filters {
        gap: var(--spacing-md);
    }
    
    .filter-select {
        min-width: 150px;
    }
}

/* Tablets (768px+) */
@media (min-width: 768px) {
    :root {
        --header-height: 64px;
        --bottom-nav-height: 72px;
    }
    
    .app-title {
        font-size: 1.5rem;
    }
    
    .stat-value {
        font-size: 2rem;
    }
    
    .stat-label {
        font-size: 0.875rem;
    }
    
    .vehicle-list,
    .threat-list,
    .maintenance-list {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: var(--spacing-md);
    }
    
    .section-header h2 {
        font-size: 1.5rem;
    }
    
    .bottom-nav {
        padding: 0 var(--spacing-lg);
    }
    
    .nav-item i {
        font-size: 1.75rem;
    }
    
    .nav-item span {
        font-size: 0.875rem;
    }
    
    .pipeline {
        gap: var(--spacing-sm);
    }
    
    .pipeline-step {
        padding: var(--spacing-md);
        font-size: 0.875rem;
    }
    
    .pipeline-step i {
        font-size: 1.5rem;
    }
}

/* Desktops (1024px+) */
@media (min-width: 1024px) {
    .app-content {
        max-width: 1200px;
        margin-left: auto;
        margin-right: auto;
        padding: var(--spacing-xl);
    }
    
    .header-content {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 var(--spacing-xl);
    }
    
    .stats-grid {
        gap: var(--spacing-lg);
    }
    
    .vehicle-list,
    .threat-list,
    .maintenance-list {
        grid-template-columns: repeat(3, 1fr);
        gap: var(--spacing-lg);
    }
    
    .bottom-sheet {
        max-width: 600px;
        left: 50%;
        transform: translateX(-50%) translateY(100%);
        border-radius: var(--radius-xl);
    }
    
    .bottom-sheet.open {
        transform: translateX(-50%) translateY(0);
    }
}

/* Large desktops (1280px+) */
@media (min-width: 1280px) {
    .vehicle-list,
    .threat-list,
    .maintenance-list {
        grid-template-columns: repeat(4, 1fr);
    }
}

/* Landscape orientation handling */
@media (orientation: landscape) and (max-height: 500px) {
    :root {
        --header-height: 48px;
        --bottom-nav-height: 56px;
    }
    
    .app-title {
        font-size: 1rem;
    }
    
    .app-content {
        padding: var(--spacing-sm);
    }
    
    .stats-grid {
        grid-template-columns: repeat(4, 1fr);
        gap: var(--spacing-sm);
    }
    
    .stat-card {
        padding: var(--spacing-sm);
    }
    
    .stat-icon {
        width: 36px;
        height: 36px;
        font-size: 1.125rem;
    }
    
    .stat-value {
        font-size: 1.25rem;
    }
    
    .stat-label {
        font-size: 0.625rem;
    }
    
    .nav-item i {
        font-size: 1.25rem;
    }
    
    .nav-item span {
        font-size: 0.625rem;
    }
    
    .bottom-sheet {
        max-height: 70vh;
    }
}

/* High DPI displays */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
    body {
        -webkit-font-smoothing: subpixel-antialiased;
    }
    
    .stat-icon,
    .nav-item i {
        transform: translateZ(0);
    }
}

/* Safe area handling for notched devices */
@supports (padding: max(0px)) {
    .app-header {
        padding-left: max(var(--spacing-md), env(safe-area-inset-left));
        padding-right: max(var(--spacing-md), env(safe-area-inset-right));
        padding-top: env(safe-area-inset-top);
    }
    
    .bottom-nav {
        padding-left: max(0px, env(safe-area-inset-left));
        padding-right: max(0px, env(safe-area-inset-right));
        padding-bottom: env(safe-area-inset-bottom);
        height: calc(var(--bottom-nav-height) + env(safe-area-inset-bottom));
    }
    
    .app-content {
        margin-top: calc(var(--header-height) + env(safe-area-inset-top));
        margin-bottom: calc(var(--bottom-nav-height) + env(safe-area-inset-bottom));
    }
}

/* Print styles */
@media print {
    .app-header,
    .bottom-nav,
    .demo-notice,
    .toast-container,
    .bottom-sheet {
        display: none !important;
    }
    
    .app-content {
        margin: 0;
        padding: 0;
    }
    
    .tab-content {
        display: block !important;
        page-break-after: always;
    }
}
