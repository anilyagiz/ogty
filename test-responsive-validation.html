<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Responsive Design Validation - Singularity</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .test-suite {
            position: fixed;
            top: 10px;
            left: 10px;
            right: 10px;
            background: rgba(27, 33, 58, 0.95);
            border: 1px solid var(--primary-light);
            border-radius: 8px;
            padding: 15px;
            z-index: 1000;
            max-height: 200px;
            overflow-y: auto;
            font-family: monospace;
            font-size: 12px;
            backdrop-filter: blur(10px);
        }
        
        .test-result {
            margin: 5px 0;
            padding: 5px;
            border-radius: 4px;
        }
        
        .test-pass {
            background: rgba(0, 230, 118, 0.2);
            color: #00e676;
        }
        
        .test-fail {
            background: rgba(255, 77, 77, 0.2);
            color: #ff4d4d;
        }
        
        .test-info {
            background: rgba(0, 194, 255, 0.2);
            color: #00c2ff;
        }
        
        .toggle-tests {
            position: fixed;
            top: 220px;
            right: 10px;
            background: var(--primary);
            color: white;
            border: none;
            padding: 10px;
            border-radius: 4px;
            cursor: pointer;
            z-index: 1001;
            min-height: 44px;
            min-width: 44px;
        }
        
        .test-suite.hidden {
            display: none;
        }
        
        .device-simulator {
            margin-top: 250px;
            padding: 20px;
        }
        
        .device-frame {
            border: 2px solid var(--primary-light);
            border-radius: 12px;
            margin: 20px auto;
            overflow: hidden;
            position: relative;
        }
        
        .device-frame.mobile {
            width: 375px;
            height: 667px;
            max-width: 100%;
        }
        
        .device-frame.tablet {
            width: 768px;
            height: 1024px;
            max-width: 100%;
        }
        
        .device-frame.desktop {
            width: 1200px;
            height: 800px;
            max-width: 100%;
        }
        
        .device-content {
            width: 100%;
            height: 100%;
            overflow: auto;
            background: var(--background-dark);
        }
        
        .test-dashboard {
            padding: 20px;
        }
        
        .test-grid {
            display: grid;
            gap: 15px;
            margin-top: 20px;
        }
        
        .test-item {
            background: var(--card-bg);
            padding: 20px;
            border-radius: 8px;
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            text-align: center;
        }
        
        /* Test responsive grid layouts */
        @media (max-width: 767px) {
            .test-grid {
                grid-template-columns: 1fr;
            }
        }
        
        @media (min-width: 768px) and (max-width: 1023px) {
            .test-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (min-width: 1024px) {
            .test-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="test-suite" id="test-suite">
        <h3>Responsive Design Validation Tests</h3>
        <div id="test-results"></div>
    </div>
    
    <button class="toggle-tests" onclick="toggleTests()">Toggle Tests</button>
    
    <div class="device-simulator">
        <h2 style="text-align: center; color: white; margin-bottom: 30px;">Device Layout Validation</h2>
        
        <!-- Mobile Simulation -->
        <div class="device-frame mobile">
            <div class="device-content">
                <div class="test-dashboard">
                    <h3>Mobile Layout (375px)</h3>
                    <div class="test-grid">
                        <div class="test-item">Item 1</div>
                        <div class="test-item">Item 2</div>
                        <div class="test-item">Item 3</div>
                        <div class="test-item">Item 4</div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Tablet Simulation -->
        <div class="device-frame tablet">
            <div class="device-content">
                <div class="test-dashboard">
                    <h3>Tablet Layout (768px)</h3>
                    <div class="test-grid">
                        <div class="test-item">Item 1</div>
                        <div class="test-item">Item 2</div>
                        <div class="test-item">Item 3</div>
                        <div class="test-item">Item 4</div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Desktop Simulation -->
        <div class="device-frame desktop">
            <div class="device-content">
                <div class="test-dashboard">
                    <h3>Desktop Layout (1200px)</h3>
                    <div class="test-grid">
                        <div class="test-item">Item 1</div>
                        <div class="test-item">Item 2</div>
                        <div class="test-item">Item 3</div>
                        <div class="test-item">Item 4</div>
                        <div class="test-item">Item 5</div>
                        <div class="test-item">Item 6</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        class ResponsiveValidator {
            constructor() {
                this.tests = [];
                this.results = document.getElementById('test-results');
                this.init();
            }
            
            init() {
                this.runAllTests();
                window.addEventListener('resize', () => {
                    setTimeout(() => this.runAllTests(), 100);
                });
                
                if (screen.orientation) {
                    screen.orientation.addEventListener('change', () => {
                        setTimeout(() => this.runAllTests(), 200);
                    });
                }
            }
            
            runAllTests() {
                this.tests = [];
                this.testViewportMeta();
                this.testBreakpoints();
                this.testTouchTargets();
                this.testScrolling();
                this.testOrientation();
                this.testAccessibility();
                this.testPerformance();
                this.displayResults();
            }
            
            addTest(name, passed, message = '') {
                this.tests.push({
                    name,
                    passed,
                    message
                });
            }
            
            testViewportMeta() {
                const viewport = document.querySelector('meta[name="viewport"]');
                const hasViewport = viewport !== null;
                const hasCorrectContent = viewport && viewport.content.includes('width=device-width');
                
                this.addTest('Viewport Meta Tag', hasViewport, 
                    hasViewport ? 'Viewport meta tag found' : 'Missing viewport meta tag');
                this.addTest('Viewport Width', hasCorrectContent,
                    hasCorrectContent ? 'Correct viewport width' : 'Incorrect viewport configuration');
            }
            
            testBreakpoints() {
                const width = window.innerWidth;
                const height = window.innerHeight;
                
                // Test mobile breakpoint
                if (width <= 767) {
                    this.addTest('Mobile Breakpoint', true, `Mobile layout active (${width}px)`);
                    this.testMobileLayout();
                } else if (width <= 1023) {
                    this.addTest('Tablet Breakpoint', true, `Tablet layout active (${width}px)`);
                    this.testTabletLayout();
                } else {
                    this.addTest('Desktop Breakpoint', true, `Desktop layout active (${width}px)`);
                    this.testDesktopLayout();
                }
                
                // Test aspect ratio
                const aspectRatio = width / height;
                this.addTest('Aspect Ratio', aspectRatio > 0.5 && aspectRatio < 3,
                    `Aspect ratio: ${aspectRatio.toFixed(2)}`);
            }
            
            testMobileLayout() {
                // Test if hamburger menu is visible
                const hamburger = document.querySelector('.hamburger-menu');
                const isHamburgerVisible = hamburger && window.getComputedStyle(hamburger).display !== 'none';
                
                this.addTest('Mobile Navigation', isHamburgerVisible,
                    isHamburgerVisible ? 'Hamburger menu visible' : 'Hamburger menu not found');
                
                // Test single column layout
                const dashboardGrid = document.querySelector('.dashboard-grid');
                if (dashboardGrid) {
                    const gridColumns = window.getComputedStyle(dashboardGrid).gridTemplateColumns;
                    const isSingleColumn = !gridColumns.includes('repeat') || gridColumns.split(' ').length <= 2;
                    
                    this.addTest('Mobile Grid Layout', isSingleColumn,
                        `Grid columns: ${gridColumns}`);
                }
            }
            
            testTabletLayout() {
                const dashboardGrid = document.querySelector('.dashboard-grid');
                if (dashboardGrid) {
                    const gridColumns = window.getComputedStyle(dashboardGrid).gridTemplateColumns;
                    const columnCount = gridColumns.split(' ').length;
                    const isTabletLayout = columnCount === 2 || gridColumns.includes('repeat(2');
                    
                    this.addTest('Tablet Grid Layout', isTabletLayout,
                        `Grid columns: ${gridColumns}`);
                }
            }
            
            testDesktopLayout() {
                const dashboardGrid = document.querySelector('.dashboard-grid');
                if (dashboardGrid) {
                    const gridColumns = window.getComputedStyle(dashboardGrid).gridTemplateColumns;
                    const columnCount = gridColumns.split(' ').length;
                    const isDesktopLayout = columnCount >= 3 || gridColumns.includes('repeat(3');
                    
                    this.addTest('Desktop Grid Layout', isDesktopLayout,
                        `Grid columns: ${gridColumns}`);
                }
            }
            
            testTouchTargets() {
                const touchElements = document.querySelectorAll('button, a, .control-buttons button');
                let minTouchTarget = true;
                let smallTargets = 0;
                
                touchElements.forEach(element => {
                    const rect = element.getBoundingClientRect();
                    const minSize = Math.min(rect.width, rect.height);
                    if (minSize < 44) {
                        minTouchTarget = false;
                        smallTargets++;
                    }
                });
                
                this.addTest('Touch Target Size', minTouchTarget,
                    minTouchTarget ? 'All touch targets ≥44px' : `${smallTargets} targets too small`);
            }
            
            testScrolling() {
                const body = document.body;
                const hasOverflowX = body.scrollWidth > window.innerWidth;
                
                this.addTest('Horizontal Scroll', !hasOverflowX,
                    hasOverflowX ? 'Horizontal scrolling detected' : 'No horizontal scroll');
                
                // Test smooth scrolling
                const hasSmoothScroll = window.getComputedStyle(document.documentElement).scrollBehavior === 'smooth';
                this.addTest('Smooth Scrolling', hasSmoothScroll,
                    hasSmoothScroll ? 'Smooth scrolling enabled' : 'Smooth scrolling disabled');
            }
            
            testOrientation() {
                const orientation = window.innerWidth > window.innerHeight ? 'landscape' : 'portrait';
                this.addTest('Orientation Detection', true, `Current: ${orientation}`);
                
                // Test orientation-specific styles
                if (orientation === 'landscape' && window.innerWidth <= 767) {
                    // Mobile landscape - should maintain single column
                    const dashboardGrid = document.querySelector('.dashboard-grid');
                    if (dashboardGrid) {
                        const gridColumns = window.getComputedStyle(dashboardGrid).gridTemplateColumns;
                        const isSingleColumn = !gridColumns.includes('repeat') || gridColumns.split(' ').length <= 2;
                        
                        this.addTest('Mobile Landscape Layout', isSingleColumn,
                            'Single column maintained in mobile landscape');
                    }
                }
            }
            
            testAccessibility() {
                // Test focus management
                const focusableElements = document.querySelectorAll('button, a, input, [tabindex]');
                const hasFocusableElements = focusableElements.length > 0;
                
                this.addTest('Focusable Elements', hasFocusableElements,
                    `${focusableElements.length} focusable elements found`);
                
                // Test ARIA labels
                const hamburger = document.querySelector('.hamburger-menu');
                const hasAriaLabel = hamburger && hamburger.hasAttribute('aria-label');
                
                this.addTest('ARIA Labels', hasAriaLabel,
                    hasAriaLabel ? 'Hamburger has aria-label' : 'Missing aria-label');
            }
            
            testPerformance() {
                // Test CSS custom properties support
                const supportsCustomProps = CSS.supports('color', 'var(--test)');
                this.addTest('CSS Custom Properties', supportsCustomProps,
                    supportsCustomProps ? 'CSS variables supported' : 'CSS variables not supported');
                
                // Test CSS Grid support
                const supportsGrid = CSS.supports('display', 'grid');
                this.addTest('CSS Grid Support', supportsGrid,
                    supportsGrid ? 'CSS Grid supported' : 'CSS Grid not supported');
                
                // Test touch events
                const supportsTouch = 'ontouchstart' in window;
                this.addTest('Touch Events', true,
                    supportsTouch ? 'Touch events supported' : 'Touch events not supported');
            }
            
            displayResults() {
                const passedTests = this.tests.filter(test => test.passed).length;
                const totalTests = this.tests.length;
                const passRate = ((passedTests / totalTests) * 100).toFixed(1);
                
                let html = `<div class="test-info">Tests: ${passedTests}/${totalTests} passed (${passRate}%)</div>`;
                
                this.tests.forEach(test => {
                    const className = test.passed ? 'test-pass' : 'test-fail';
                    const icon = test.passed ? '✓' : '✗';
                    html += `<div class="test-result ${className}">
                        ${icon} ${test.name}: ${test.message}
                    </div>`;
                });
                
                this.results.innerHTML = html;
            }
        }
        
        function toggleTests() {
            const testSuite = document.getElementById('test-suite');
            testSuite.classList.toggle('hidden');
        }
        
        // Initialize validator
        const validator = new ResponsiveValidator();
        
        // Test touch interactions
        function testTouchInteractions() {
            const touchElements = document.querySelectorAll('.test-item, button');
            
            touchElements.forEach(element => {
                element.addEventListener('touchstart', function(e) {
                    this.classList.add('touch-active');
                    console.log('Touch start on:', this.textContent || this.tagName);
                });
                
                element.addEventListener('touchend', function(e) {
                    this.classList.remove('touch-active');
                    console.log('Touch end on:', this.textContent || this.tagName);
                });
            });
        }
        
        // Initialize touch testing
        testTouchInteractions();
        
        // Log device information
        console.log('Device Information:', {
            userAgent: navigator.userAgent,
            screenSize: `${screen.width}x${screen.height}`,
            viewportSize: `${window.innerWidth}x${window.innerHeight}`,
            devicePixelRatio: window.devicePixelRatio,
            orientation: screen.orientation ? screen.orientation.angle : window.orientation,
            touchSupport: 'ontouchstart' in window,
            platform: navigator.platform
        });
    </script>
</body>
</html>